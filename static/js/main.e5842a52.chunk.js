(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports={todoListFilter:"TodoListFilter_todoListFilter__EuTw9",isHow:"TodoListFilter_isHow__12RUN"}},17:function(e,t,a){e.exports={App:"App_App__3MRyD",header:"App_header__Z2y3y",title:"App_title__3Ci0S",tasks:"App_tasks__3YtUf"}},19:function(e,t,a){e.exports={container:"TodoListTitle_container__3RfeJ",title:"TodoListTitle_title__3V35V",todoListTitle:"TodoListTitle_todoListTitle__1flMW"}},20:function(e,t,a){e.exports={container:"AddNewItemForm_container__2V52p",newForm:"AddNewItemForm_newForm__2cF6S",containerBtn:"AddNewItemForm_containerBtn__tVAur",error:"AddNewItemForm_error__2isHa"}},26:function(e,t,a){e.exports={todoList:"TodoList_todoList__3a1Ok",todoListHeader:"TodoList_todoListHeader__10Ja4"}},54:function(e,t,a){e.exports=a(84)},59:function(e,t,a){},6:function(e,t,a){e.exports={task:"TodoListTask_task__3sK6e",taskDone:"TodoListTask_taskDone__2NpFM",heading:"TodoListTask_heading__1h1Sf",wrapper:"TodoListTask_wrapper__2uJL6",textContainer:"TodoListTask_textContainer__rY4CA",inp:"TodoListTask_inp__jEYiF",inpDate:"TodoListTask_inpDate__3tST2",select:"TodoListTask_select__3Ovb_"}},84:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(13),r=a.n(i),c=(a(59),a(16)),s=a.n(c),l=a(22),d=a(17),u=a.n(d),m=a(7),f=a(26),p=a.n(f),T=a(6),k=a.n(T),E=function(e){var t=Object(n.useState)(!1),i=Object(m.a)(t,2),r=i[0],c=i[1],s=function(t){c(!1),e.changeDate(e.id,t.currentTarget.value)},l=a(33),d=new Date(e.date),u=e.date?l(d,"dd-mm-yyyy"):"set ".concat(e.title),f=e.date?e.date:e.addedDate,p=new Date(e.addedDate),T=new Date(f);return o.a.createElement("div",{className:k.a.textContainer},o.a.createElement("span",{className:k.a.heading},e.title,":\xa0"),r?o.a.createElement("input",{className:k.a.inpDate,type:"date",value:l(T,"yyyy-mm-dd"),min:l(p,"yyyy-mm-dd"),max:"2021-12-31",autoFocus:!0,onBlur:s,onChange:s}):o.a.createElement("span",{onClick:function(){c(!0)}},u,".\xa0"))},h=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),i=a[0],r=a[1],c=function(){r(!1)},s="";switch(e.priority){case 0:s="Low";break;case 1:s="Middle";break;case 2:s="High";break;case 3:s="Urgently";break;case 4:s="Later"}var l=e.priority;return o.a.createElement("div",{className:k.a.textContainer},o.a.createElement("span",{className:k.a.heading},"Priority: "),i?o.a.createElement("select",{className:k.a.select,autoFocus:!0,onKeyDown:function(e){"Enter"===e.key&&c()},onChange:function(t){e.changePriority(e.id,t.currentTarget.value),c()},onBlur:c},o.a.createElement("option",{selected:0===l,value:"0"},"Low"),o.a.createElement("option",{selected:1===l,value:"1"},"Middle"),o.a.createElement("option",{selected:2===l,value:"2"},"High"),o.a.createElement("option",{selected:3===l,value:"3"},"Urgently"),o.a.createElement("option",{selected:4===l,value:"4"},"Later")):o.a.createElement("span",{onClick:function(){r(!0)}},s),".\xa0")},y=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(e.title),s=Object(m.a)(c,2),l=s[0],d=s[1],u=function(){r(!1),e.changeText(e.id,l)};return o.a.createElement("div",{className:k.a.textContainer},o.a.createElement("span",{className:k.a.heading},e.taskTitle,":\xa0"),i?o.a.createElement("input",{className:k.a.inp,onBlur:u,onChange:function(e){d(e.currentTarget.value)},autoFocus:!0,value:l,onKeyPress:function(e){"Enter"===e.key&&u()},placeholder:e.placeholder}):o.a.createElement("span",{onClick:function(){r(!0)},placeholder:e.placeholder},e.title?e.title:e.placeholder,".\xa0"))},_=function(e){var t=a(33),n=new Date(e.addedDate);return o.a.createElement("div",{className:k.a.textContainer},o.a.createElement("span",{className:k.a.heading},"Added date:\xa0"),t(n,"H:MM dd-mm-yyyy"),".\xa0")},v=a(99),g=a(23),D=a.n(g),b=a(102),O=function(e){var t=e.task.completed?k.a.taskDone:k.a.task;return o.a.createElement("div",{className:t},o.a.createElement("div",null,o.a.createElement(v.a,{"aria-label":"delete",onClick:function(){e.deleteTask(e.task.id)}},o.a.createElement(D.a,{color:"primary"})),o.a.createElement(b.a,{checked:!0===e.task.completed,onChange:function(t){e.changeStatus(e.task.id,t.currentTarget.checked)},value:"checkedB",color:"primary",inputProps:{"aria-label":"secondary checkbox"}})),o.a.createElement(y,{taskTitle:"Title",title:e.task.title,changeText:e.changeTitle,id:e.task.id,placeholder:"set title"}),o.a.createElement(y,{taskTitle:"Description",title:e.task.description,changeText:e.changeDescription,id:e.task.id,placeholder:"set description"}),o.a.createElement(h,{priority:e.task.priority,changePriority:e.changePriority,id:e.task.id}),o.a.createElement(_,{addedDate:e.task.addedDate}),o.a.createElement(E,{changeDate:e.changeStartDate,id:e.task.id,addedDate:e.task.addedDate,date:e.task.startDate,title:"start date"}),o.a.createElement(E,{changeDate:e.changeDeadline,id:e.task.id,addedDate:e.task.addedDate,date:e.task.deadline,title:"deadline"}))},L=function(e){var t=e.tasks.map(function(t){return o.a.createElement(O,{task:t,changeStatus:e.changeStatus,changeTitle:e.changeTitle,deleteTask:e.deleteTask,changePriority:e.changePriority,changeDescription:e.changeDescription,changeStartDate:e.changeStartDate,changeDeadline:e.changeDeadline,key:e.tasks.id})});return o.a.createElement("div",{className:u.a.tasks},t)},w=a(14),C=a.n(w),S=a(100),j=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),i=a[0],r=a[1],c="All"===e.filterValue?C.a.filterActive:"",s="Completed"===e.filterValue?C.a.filterActive:"",l="Active"===e.filterValue?C.a.filterActive:"";return o.a.createElement("div",{className:C.a.todoListFilter},o.a.createElement("div",{className:C.a.isHow},!i&&o.a.createElement("span",{onClick:function(){r(!0)}},"hide filter"),i&&o.a.createElement("span",{onClick:function(){r(!1)}},"show filter")),!i&&o.a.createElement("div",{className:C.a.buttons},o.a.createElement(S.a,{color:"primary",onClick:function(){e.changeFilter("All")},className:c},"All"),o.a.createElement(S.a,{color:"primary",onClick:function(){e.changeFilter("Completed")},className:s},"Completed"),o.a.createElement(S.a,{color:"primary",onClick:function(){e.changeFilter("Active")},className:l},"Active")))},A=a(19),N=a.n(A),I=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(e.title),s=Object(m.a)(c,2),l=s[0],d=s[1],u=function(){r(!1),e.changeTodolistTitle(l,e.id)};return o.a.createElement("div",{className:N.a.container},o.a.createElement("div",{className:N.a.todoListTitle},i?o.a.createElement("input",{onBlur:u,onChange:function(e){!function(e){d(e.currentTarget.value)}(e)},autoFocus:!0,value:l,onKeyPress:function(e){"Enter"===e.key&&u()},className:N.a.input}):o.a.createElement("span",{onClick:function(){r(!0)},className:N.a.title},e.title," \xa0")),o.a.createElement("div",null,o.a.createElement(v.a,{"aria-label":"delete",onClick:e.onDelete},o.a.createElement(D.a,{color:"primary"}))))},F=a(15),P=a(29),x=a(48),R=a(49),K=a.n(R).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/todo-lists/",headers:{"API-KEY":"99877a27-c404-4003-9d7e-bbb983559996"}}),H=function(e,t){return K.post("".concat(t,"/tasks"),{title:e})},B=function(e){return K.post("",{title:e})},U=function(){return K.get("")},V=function(e){return K.put("tasks",e)},M=function(e){return K.delete(""+e)},J=function(e){return K.delete("tasks/ ".concat(e))},Y=function(e){return K.get("".concat(e,"/tasks"))},z=function(e,t){return K.put("".concat(e),{title:t})};function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach(function(t){Object(x.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var q="TodoList/Reducer/ADD-TASK",G={todolists:[]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TodoList/Reducer/SET_TASKS":return Z({},e,{todolists:e.todolists.map(function(e){return e.id!==t.todolistId?e:Z({},e,{tasks:t.tasks})})});case"TodoList/Reducer/SET_TODOLISTS":return Z({},e,{todolists:t.todolists.map(function(e){return Z({},e,{tasks:[]})})});case"TodoList/Reducer/ADD-TODOLIST":return Z({},e,{todolists:[].concat(Object(P.a)(e.todolists),[t.newTodolist])});case"TodoList/Reducer/DELETE-TODOLIST":return Z({},e,{todolists:e.todolists.filter(function(e){return e.id!==t.todolistId})});case"TodoList/Reducer/DELETE-TASK":return Z({},e,{todolists:e.todolists.map(function(e){return e.id===t.todolistId?Z({},e,{tasks:e.tasks.filter(function(e){return e.id!==t.taskId})}):e})});case q:return Z({},e,{todolists:e.todolists.map(function(e){return e.id===t.todolistId?Z({},e,{tasks:[].concat(Object(P.a)(e.tasks),[t.newTask])}):e})});case"TodoList/Reducer/UPDATE-TASK":return Z({},e,{todolists:e.todolists.map(function(e){return e.id===t.todolistId?Z({},e,{tasks:e.tasks.map(function(e){return e.id!==t.taskId?e:Z({},e,{},t.obj)})}):e})});case"TodoList/Reducer/UPDATE_TODOLIST":return Z({},e,{todolists:e.todolists.map(function(e){return e.id===t.todolistId?Z({},e,{title:t.newTitle}):e})})}return e},X=a(20),$=a.n(X),ee=a(101),te=a(50),ae=a.n(te),ne=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(""),s=Object(m.a)(c,2),l=s[0],d=s[1],u=function(){d(l),""===l?r(!0):(r(!1),e.addItem(l)),d("")},f=i?$.a.error:"";return o.a.createElement("div",{className:$.a.container},o.a.createElement("div",{className:$.a.newForm},o.a.createElement("input",{className:f,type:"text",onChange:function(e){d(e.currentTarget.value),r(!1)},onKeyPress:function(e){"Enter"===e.key&&u()},value:l,id:"labelInput"}),o.a.createElement("label",{htmlFor:"labelInput"},e.placeholder)),o.a.createElement("div",{className:$.a.containerBtn},o.a.createElement(ee.a,{color:"primary",size:"small","aria-label":"add",onClick:u},o.a.createElement(ae.a,null))))},oe=Object(F.b)(null,{deleteTaskTC:function(e,t){return function(a){J(e,t).then(function(n){0===n.data.resultCode&&a(function(e,t){return{type:"TodoList/Reducer/DELETE-TASK",taskId:e,todolistId:t}}(e,t))})}},deleteTodolistTC:function(e){return function(t){M(e).then(function(a){0===a.data.resultCode&&t(function(e){return{type:"TodoList/Reducer/DELETE-TODOLIST",todolistId:e}}(e))})}},updateTaskTC:function(e,t,a){return function(n,o){o().todolists.find(function(e){return e.id===a}).tasks.forEach(function(o){o.id===e&&V(Z({},o,{},t)).then(function(){n(function(e,t,a){return{type:"TodoList/Reducer/UPDATE-TASK",taskId:e,obj:t,todolistId:a}}(e,t,a))})})}},setTasksTC:function(e){return function(t){Y(e).then(function(a){t(function(e,t){return{type:"TodoList/Reducer/SET_TASKS",tasks:e,todolistId:t}}(a.data.items,e))})}},addTaskTC:function(e,t){return function(a){H(e,t).then(function(e){var n=e.data.data.item;a(function(e,t){return{type:q,newTask:e,todolistId:t}}(n,t))})}},updateTodolistTC:function(e,t){return function(a,n){n().todolists.forEach(function(n){n.id===e&&z(n.id,t).then(function(n){0===n.data.resultCode&&a(function(e,t){return{type:"TodoList/Reducer/UPDATE_TODOLIST",todolistId:e,newTitle:t}}(e,t))})})}}})(function(e){Object(n.useEffect)(function(){!function(){var t=Object(l.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setTasksTC(e.id);case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[e.id]);var t=Object(n.useState)("All"),a=Object(m.a)(t,2),i=a[0],r=a[1],c=function(t,a){e.updateTaskTC(t,a,e.id)},d=e.tasks,u=void 0===d?[]:d;return o.a.createElement("div",{className:p.a.todoList},o.a.createElement("div",{className:p.a.todoListHeader},o.a.createElement(I,{title:e.title,onDelete:function(){e.deleteTodolistTC(e.id)},changeTodolistTitle:function(t){e.updateTodolistTC(e.id,t)},id:e.id}),o.a.createElement(ne,{addItem:function(t){e.addTaskTC(t,e.id)},placeholder:"Add new task"}),o.a.createElement(_,{addedDate:e.addedDate})),o.a.createElement(j,{changeFilter:function(e){r(e)},filterValue:i}),o.a.createElement(L,{changeStatus:function(e,t){c(e,{completed:t})},changeTitle:function(e,t){c(e,{title:t})},deleteTask:function(t){e.deleteTaskTC(t,e.id)},changePriority:function(e,t){c(e,{priority:Number(t)})},changeDescription:function(e,t){c(e,{description:t})},changeStartDate:function(e,t){c(e,{startDate:t})},changeDeadline:function(e,t){c(e,{deadline:t})},tasks:u.filter(function(e){return"All"===i||("Active"===i?!1===e.completed:"Completed"===i?!0===e.completed:void 0)})}))}),ie=Object(F.b)(function(e){return{todolists:e.todolists}},{addTodolistTC:function(e){return function(t){B(e).then(function(e){t({type:"TodoList/Reducer/ADD-TODOLIST",newTodolist:e.data.data.item})})}},setTodolistsTC:function(){return function(e){U().then(function(t){e({type:"TodoList/Reducer/SET_TODOLISTS",todolists:t.data})})}}})(function(e){Object(n.useEffect)(function(){!function(){var t=Object(l.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setTodolistsTC();case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[]);var t=e.todolists.map(function(e){return o.a.createElement(oe,{key:e.id,id:e.id,title:e.title,tasks:e.tasks,addedDate:e.addedDate})});return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:u.a.header},o.a.createElement("div",null,o.a.createElement(ne,{addItem:function(t){e.addTodolistTC(t)},placeholder:"Add new to do list"})),o.a.createElement("div",null,o.a.createElement("span",{className:u.a.title},"to do list app"))),o.a.createElement("div",{className:u.a.App},t))}),re=a(18),ce=a(51),se=Object(re.c)(Q,Object(re.a)(ce.a));window.store=se;var le=se;r.a.render(o.a.createElement(F.a,{store:le},o.a.createElement(ie,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.e5842a52.chunk.js.map